---
title: "Vendor Integration"
description: "Integrate 1Sub in under an hour - simpler than building your own paywall"
---

# Vendor Integration

1Sub handles subscriptions and payments for you. When a user clicks "Launch Tool" on 1Sub, we tell you whether access is allowed. You just need to receive that signal and create a session.

---

## What you need to get started

Just one thing:

1. <a href="#step-1-add-the-webhook-endpoint" className="inline-block px-2 py-1 bg-[#3ecf8e]/20 text-[#3ecf8e] rounded text-sm font-medium hover:bg-[#3ecf8e]/30 transition-colors">**webhook endpoint**</a> - automatically stop access when payment stops

**Optional but strongly recommended:**

- <a href="#step-2-add-the-callback-endpoint-optional" className="inline-block px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-sm font-medium hover:bg-blue-500/30 transition-colors">**callback endpoint**</a> - automatically receive users after they click "Launch Tool"

That's it. This replaces:
- User signup and login
- Password management
- Subscription logic
- Billing integration
- Payment processing

---

## The User Experience

From the user's perspective:

1. User subscribes to your tool on 1Sub
2. User clicks "Launch Tool"
3. Your app opens with the user already signed in
4. They use your tool - no account creation needed

Users never create accounts on your site. 1Sub handles identity and payment.

---

## Step-by-Step Integration

### Step 1: Add the Webhook Endpoint

When a user cancels, 1Sub notifies you immediately so you can end their session:

```typescript
app.post('/webhooks/1sub', express.json(), (req, res) => {
  const event = req.body;

  if (event.type === 'subscription.canceled') {
    // Invalidate this user's session
    sessionStore.destroy(event.data.oneSubUserId);
  }

  res.status(200).send('OK');
});
```

---

### Step 2: Add the Callback Endpoint (Optional)

When users click "Launch Tool", they're redirected to your app with a `code`. Exchange it for user info:

```typescript
app.get('/auth/callback', async (req, res) => {
  const { code } = req.query;

  const { data } = await fetch('https://1sub.io/api/v1/authorize/exchange', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${process.env.ONESUB_API_KEY}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ code }),
  }).then(r => r.json());

  // Create your session
  req.session.userId = data.onesubUserId;
  req.session.token = data.verificationToken;
  req.session.plan = data.entitlements;

  res.redirect('/dashboard');
});
```

You get back the user's ID, their plan details, and a token for checking access later.

That's the complete integration.

---

## Common Questions

**What happens if a user cancels?**

You get a webhook immediately so you can end their session right away.

**What if 1Sub is temporarily unavailable?**

Keep the session active and retry the webhook or verification when the service is back online.

---

## Ready to Integrate?

- **Time to integrate:** 30-60 minutes
- **Lines of code:** ~40
- **Complexity:** If you can add a webhook, you can integrate 1Sub

Get your API key from the [vendor dashboard](https://1sub.io/vendor/dashboard) and you're ready to go.

<CardGroup cols={2}>
<Card title="API Reference" icon="code" href="/docs/api/reference">
  Full endpoint documentation
</Card>

<Card title="Webhook Events" icon="webhook" href="/docs/webhooks/events">
  All event types and payloads
</Card>
</CardGroup>
