---
title: "API Overview"
description: "Simple REST API for verifying subscriptions"
---

# API Overview

The 1Sub API lets you verify user subscriptions and consume credits. All you need is your API key.

## Base URL

```
https://1sub.io/api/v1
```

## Authentication

Include your API key in every request:

```http
Authorization: Bearer sk-tool-xxxxxxxxxxxxxxxxxxxxxxxx
```

## Endpoints

| Endpoint | Purpose |
|----------|---------|
| `POST /authorize/exchange` | Exchange callback code for user info |
| `POST /verify` | Check if user still has access |
| `POST /credits/consume` | Deduct credits from user balance |

---

## Quick Examples

### Exchange callback code

```typescript
const response = await fetch('https://1sub.io/api/v1/authorize/exchange', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${API_KEY}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ code }),
});

const { onesubUserId, verificationToken, entitlements } = await response.json();
```

### Check access

```typescript
const response = await fetch('https://1sub.io/api/v1/verify', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${API_KEY}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ verificationToken }),
});

const { valid, entitlements } = await response.json();
```

---

## Response Format

Successful responses return JSON with a `valid` field:

```json
{
  "valid": true,
  "onesubUserId": "uuid-abc-123",
  "entitlements": {
    "planId": "monthly",
    "creditsRemaining": 1000
  }
}
```

Error responses include an error message:

```json
{
  "error": "Error type",
  "message": "Human-readable description"
}
```

---

## Rate Limits

| Endpoint | Limit |
|----------|-------|
| `/authorize/exchange` | 30/min |
| `/verify` | 100/min |
| `/credits/consume` | 100/min |

If you hit a rate limit, you'll get a `429` response. Wait and retry.

---

## Status Codes

| Code | Meaning |
|------|---------|
| 200 | Success |
| 400 | Invalid request |
| 401 | Invalid API key |
| 403 | Access denied |
| 429 | Rate limit exceeded |
| 500 | Server error |

<CardGroup cols={2}>
<Card title="Full API Reference" icon="code" href="/docs/api/reference">
  Complete endpoint documentation
</Card>

<Card title="Error Codes" icon="triangle-exclamation" href="/docs/api/errors">
  All error types and how to handle them
</Card>
</CardGroup>
